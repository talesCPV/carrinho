
    <div class="display"> 

        <h2 class="w3-center"> Cadastro de Produtos</h2>


        <form class="w3-container">

            <label >Descrição *</label>
            <input class="w3-input w3-margin-bottom" type="text" id="edtDesc"  />
            <label >Fornecedor</label>
            <select class="w3-input w3-margin-bottom" id="cmbEmp"></select>
            <label >Unidade</label>
            <select class="w3-input w3-margin-bottom" id="cmbUnid"></select>
            <label >Estoque</label>
            <input class="w3-input w3-margin-bottom" type="text" id="edtEtq" value="0"/>
            <label>Tipo</label>
            <select class="w3-input w3-margin-bottom"  id="cmbTipo"   >
                <option value="VENDA">Produto</option>
                <option value="CONJ">Conjunto</option>
                <option value="SERVICO">Serviço</option>
                <option value="TINTA">Tinta</option>
            </select>
            <label>Estoque Min.</label>
            <input class="w3-input w3-margin-bottom" type="text" id="edtEtqMin" value="0"  />
            <label >Cód. do Produto</label>
            <input class="w3-input w3-margin-bottom" type="text" id="edtCodProd" class=""  />
            <label >Cód. de Barras</label>
            <input class="w3-input w3-margin-bottom" type="text" id="edtCodBar" class=""  />
            <label >NCM</label>
            <input class="w3-input w3-margin-bottom" type="text" id="edtNCM" onkeyup="return int_number(this)"  />
            <label >Preço de Compra R$</label>
            <input class="w3-input w3-margin-bottom" type="text" id="edtCompra" onkeyup="return float_number(this)" value="0"/>
            <label >Margem de Lucro %</label>
            <input class="w3-input w3-margin-bottom" type="text" id="edtMargem" onkeyup="return float_number(this,1)" value="0"/>
            <button class="w3-button w3-green w3-round-large w3-margin-bottom w3-right" id="btnSave">Salvar</button>


        </form> 


    </div>


<script>

    const btnSave = document.getElementById('btnSave');
    const cmbEmp = document.getElementById('cmbEmp');
    const cmbUnid = document.getElementById("cmbUnid");
    const edtDesc = document.getElementById("edtDesc");
    const edtEtq = document.getElementById("edtEtq");
    const edtEtqMin = document.getElementById("edtEtqMin");
    const cmbTipo = document.getElementById("cmbTipo");
    const edtCodProd = document.getElementById("edtCodProd");
    const edtCodBar = document.getElementById("edtCodBar");
    const edtNCM = document.getElementById("edtNCM");
    const edtCompra = document.getElementById("edtCompra");
    const edtMargem = document.getElementById("edtMargem"); 

    fillCmb(cmbEmp,'tb_empresa','id','nome','WHERE tipo="FOR"');
    fillCmbTxt(cmbUnid,'../assets/unidades.txt');


    btnSave.addEventListener('click',(event)=>{
        event.preventDefault;


    });

    function saveProd(){

        const query = `INSERT INTO tb_produto`;


    query.then(result =>{
        const edtCod = JSON.parse(result);


        let fields = [cmbEmp.value,edtDesc.value,edtEtq.value,edtEtqMin.value,cmbUnid.value, edtNCM.value, edtCod, edtCodProd.value, edtCompra.value, edtMargem.value, cmbTipo.value, edtCodBar.value];

//        alert(fields);

        queryDB("new_prod",fields);
        modal.style.display = "none";

    });
    query.catch(error =>{
        alert(error);
    });
        
}



</script>